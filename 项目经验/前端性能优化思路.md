前端性能优化思路
===

如果是前端资源加载慢，导致页面慢，则应该考虑如何缩短请求耗时。比如打包时候压缩包体积，将一些大包比如echart 这种通过cdn外部引入。合理的使用treeshaking，使用pnpm 减少一些重复的依赖

treeshaking 会在什么场景下失效，比如函数内部存在一些副作用，类似于document.title = ''; window.xxx = 
> 副作用是函数式编程的一个概念，是指当调用函数时，除了返回函数值之外，还会对主调用函数产生附加的影响。简单来说，就是除了返回函数值之外，还做了一些别的事情。比如打印 Log、读取和修改外部变量等。引申到应用层面，副作用还可能是导入 DOM 操作、引入 Polyfill 等。
导入的时候不能是export default这种
比如loadash这种可以使用lodash.debounce 这种形式做treeshaking 进一步减少体积


或者比如优化首页，首页加载的内容一定要是和首页相关的，任何第一次打开看不见的东西通通都不用加载。比如一些弹窗中带上editor这种比较大的包的内容

另外就是加上合适的http缓存，强缓存协商缓存这种，大的js、css文件可以通过gzip格式进行压缩。

另外就是加上预解析，对于一些网络情况不好的情况 提高加载速度
常见的预解析，比如说webview 内嵌h5，微前端，可以提前加载一些资源，比如一些子应用的js、css文件。

或者比如一些首页显著的大图片 尽量用png 代替svg 这样做加载性能好 然后请求前置，进行预加载。将高优的内容提前加载
或者有一些大图 可以使用渐进式的图片

而如果是前端页面逻辑笨重，UI数据量太大，则可以试着从减少重绘重排的角度去优化。或者有些大列表的话类似于知乎这种，用虚拟滚动。对于耗时长的复杂计算，缓存计算结果往往是见效较快的优化方式。

以及比如一些首屏加载很多图表，可以通过实时计算页面显示图片的位置，然后只加载可见区域的图片。

另外就是首屏通过ssr渲染。

【参考文章】
[Web前端性能优化思路](https://www.51cto.com/article/702962.html);
[React性能测量和分析](https://juejin.cn/post/6844903869378641933);
[前端性能优化](https://juejin.cn/post/6911472693405548557#heading-50)